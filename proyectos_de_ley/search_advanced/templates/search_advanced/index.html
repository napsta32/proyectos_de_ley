{% extends "pdl/base.html" %}


{% block additional_head_javascript %}
{% endblock additional_head_javascript %}


{% block additional_css %}
{% load staticfiles %}
<link type="text/css" href="{% static 'css/jquery-ui.min.css' %}" rel="stylesheet" />
<link type="text/css" href="{% static 'css/jquery-ui.structure.min.css' %}" rel="stylesheet" />
<link type="text/css" href="{% static 'css/jquery-ui.theme.min.css' %}" rel="stylesheet" />
{% endblock additional_css %}


{% block title %}
        Proyecto de ley | Búsqueda avanzada
{% endblock title %}

{% block content %}
<div class="container">
  {% if not items %}
  <div class="row">
    <div class="col-xs-12">
      <h1 style="padding-bottom:30px;" class="text-center">Búsqueda avanzada</h1>
    </div>
  </div>


<form method="get" action="/search-advanced/" class="form-inline" role="form">
  <div class="row">
    <div class="col-lg-3 col-md-4 col-sm-3">
      <h4>Por fecha de presentación</h4>
    </div>
    <div class="col-lg-9 col-md-7 col-xs-6">
        {{ form.non_field_errors }}

        {% if form.date_from.errors %}
          <div class="form-group has-error has-feedback">
        {% else %}
          <div class="form-group">
        {% endif %}

          <label class="sr-only" for="id_date_from">Fecha inicio:</label>
          {{ form.date_from }}

          {% if form.date_from.errors %}
            <span class="glyphicon glyphicon-remove form-control-feedback"></span>
          {% endif %}
        </div>


        {% if form.date_to.errors %}
          <div class="form-group has-error has-feedback">
        {% else %}
          <div class="form-group">
        {% endif %}

          <label class="sr-only" for="id_date_to">Fecha fin:</label>
          {{ form.date_to }}

          {% if form.date_to.errors %}
          <span class="glyphicon glyphicon-remove form-control-feedback"></span>
          {% endif %}
        </div>

        <div class="form-group">
          <button type="submit" class="btn btn-info" id="search_button">
              <span class="glyphicon glyphicon-search"></span>
              Buscar
          </button>
        </div>
    </div><!-- col -->
  </div><!-- row -->


  <div class="row">
    <div class="col-lg-3 col-md-4 col-sm-3">
      <h4>Por comisiones</h4>
    </div>

    <div class="col-lg-9 col-md-7 col-xs-6">
      {{ form.comision }} 
    </div><!-- col -->
  </div><!-- row -->
</form>

  {% endif %}

</div>

{% if items %}
  <div id="contenido" class="container">
    <h1>Resultados de búsqueda:</h1>
    {% if results == 'No se encontraron resultados.' %}
      <h2>{{ results }}</h2>
    {% else %}
      {% for i in pretty_items %}
        {{ i|safe }}
      {% endfor %}
    {% endif %}
  </div>
{% endif %}

    {% if last_page > 2 %}
      {% include "search_advanced/pagination_search.html" %}
    {% endif %}
{% endblock content %}



{% block additional_javascript %}
{% load staticfiles %}
<script src="{% static 'js/jquery-ui.min.js' %}"></script>

<script>
  $(document).ready(function() {
    $('.datepicker').datepicker();
  });
</script>

{% endblock additional_javascript %}
